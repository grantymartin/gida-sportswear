{"filter":false,"title":"contexts.py","tooltip":"/bag/contexts.py","undoManager":{"mark":4,"position":4,"stack":[[{"start":{"row":0,"column":0},"end":{"row":28,"column":18},"action":"insert","lines":["from decimal import Decimal","from django.conf import settings","","def bag_contents(request):","","    bag_items = []","    total = 0","    product_count = 0","","    if total < settings.FREE_DELIVERY_THRESHOLD:","        delivery = total * Decimal(settings.STANDARD_DELIVERY_PERCENTAGE / 100)","        free_delivery_delta = settings.FREE_DELIVERY_THRESHOLD - total","    else:","        delivery = 0","        free_delivery_delta = 0","    ","    grand_total = delivery + total","    ","    context = {","        'bag_items': bag_items,","        'total': total,","        'product_count': product_count,","        'delivery': delivery,","        'free_delivery_delta': free_delivery_delta,","        'free_delivery_threshold': settings.FREE_DELIVERY_THRESHOLD,","        'grand_total': grand_total,","    }","","    return context"],"id":1}],[{"start":{"row":8,"column":0},"end":{"row":12,"column":9},"action":"remove","lines":["","    if total < settings.FREE_DELIVERY_THRESHOLD:","        delivery = total * Decimal(settings.STANDARD_DELIVERY_PERCENTAGE / 100)","        free_delivery_delta = settings.FREE_DELIVERY_THRESHOLD - total","    else:"],"id":2},{"start":{"row":7,"column":21},"end":{"row":8,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":8,"column":4},"end":{"row":8,"column":8},"action":"remove","lines":["    "],"id":3}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":31},"action":"remove","lines":["        free_delivery_delta = 0"],"id":4},{"start":{"row":8,"column":16},"end":{"row":9,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":17,"column":0},"end":{"row":18,"column":68},"action":"remove","lines":["        'free_delivery_delta': free_delivery_delta,","        'free_delivery_threshold': settings.FREE_DELIVERY_THRESHOLD,"],"id":5},{"start":{"row":16,"column":29},"end":{"row":17,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":16,"column":29},"end":{"row":16,"column":29},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1592057637062,"hash":"09cfd584c65532c4aad8ba9daedd6abc63a4801d"}